@*model IEnumerable<Form>*@
@model Form
@{
    Layout = "_Layout";
}

<head>
  <link rel="stylesheet" href="~/css/form/wrapper.css" />

  <link rel="stylesheet" href="~/css/form/content.css" />
  <link rel="stylesheet" href="~/css/form/content-period.css" />
  <link rel="stylesheet" href="~/css/form/content-employee.css" />
  <link rel="stylesheet" href="~/css/form/content-table.css" />
  <link rel="stylesheet" href="~/css/form/content-advanced.css" />
  <link rel="stylesheet" href="~/css/form/content-comments.css" />
  <link rel="stylesheet" href="~/css/form/content-signatures.css" />

  <title>Set title here</title>
</head>




@*----------------------------------------
BEM convention: Block Elements Modifiers
.stick-man          || blocks with -

.stick-man__head    || elements with __
.stick-man__arms
.stick-man__feet

.stick-man--blue    || modifiers with --

.stick-man__head--small
----------------------------------------*@

<body class="wrapper">
  <header class="header">
      <p>You can do it!</p>
  </header>

  <content class="content">
    <div style="display:none">
      <input asp-for="Id" type="hidden" readonly />
      <input asp-for="IsObjectivesFreezed" type="hidden" id="js-isObjectivesFreezed" readonly />
      <input asp-for="IsResultsFreezed" type="hidden" id="js-isResultsFreezed" readonly />
    </div>

    @*-------------------------- Content - Period --------------------------*@
    <div class="content-period">
      @* TODO: add alt="HTML5" style="width:128px;height:128px" for image *@
      <img class="content-period__image" src="~/images/Ecar.png" alt="logo"/>
      <div class="content-period-center">
        <span class="content-period-center__title">PERSONAL PERFORMANCE OBJECTIVES FOR</span>
        <select asp-for="Period" asp-items="@(new SelectList(Enum.GetNames(typeof(Periods))))"
                class="content--styles content-period-center__period">
        </select>
        <span class="content-period-center__joinder">OF</span>
        <input asp-for="Year" type="text" class="content--styles content-period-center__year" />
      </div>
      <div class="content-period__text">Please complete the form in English</div>
    </div>

    @*-------------------------- Content - Employee --------------------------*@
    <div class="content-employee">
      <label asp-for="EmployeeId" class="content-employee__column-1">Employee:</label>
      <div class="content-employee__column-2">
        <select asp-for="EmployeeId" asp-items="ViewBag.Users" class="content--styles">
          <option disabled>Employee...</option>
        </select>
        <div class="content-employee__column-2-flex">
          <label asp-for="IsWpmHox">WPM/HoX:</label>
          <input asp-for="IsWpmHox" type="checkbox" />
        </div>
        <div class="content-employee__column-2-flex">
          <label asp-for="Employee.Team.Name">Team:</label>
          <input asp-for="Employee.Team.Name" type="text"  disabled class="content--styles content-employee--styles"/>
        </div>
        <div class="content-employee__column-2-flex">
          <label asp-for="Employee.Position.NameEng">Position:</label>
          <input asp-for="Employee.Position.NameEng" type="text" disabled class="content--styles content-employee--styles" />
        </div>
        <div class="content-employee__column-2-flex">
          <label asp-for="Employee.Pid">PID:</label>
          <input asp-for="Employee.Pid" type="text" disabled class="content--styles content-employee--styles" />
        </div>
      </div>
      <label asp-for="WorkprojectId" class="content-employee__column-1">WP:</label>
      <div class="content-employee__column-2">
        <div class="content-employee__column-2-flex">
          <select asp-for="WorkprojectId" asp-items="ViewBag.Workprojects" class="content--styles" onchange="requestWorkprojectDescription(this)">
            <option disabled>WP...</option>
          </select>
          <input asp-for="Workproject.Description" type="text" disabled class="content-employee--styles" />
        </div>
        <div class="content-employee__column-2-flex">
          <label asp-for="ManagerId">Direct Manager:</label>
          <select asp-for="ManagerId" asp-items="ViewBag.Users" class="content--styles">
            <option disabled>Manager...</option>
          </select>
        </div>
        <div class="content-employee__column-2-flex">
          <label asp-for="ApproverId">Approver:</label>
          <select asp-for="ApproverId" asp-items="ViewBag.Users" class="content--styles">
            <option disabled>Approver...</option>
          </select>
        </div>
      </div>
    </div>

    @*-------------------------- Content - Table --------------------------*@
    <table class="content-table">
      <thead class="content-table__header">
        <tr class="content-table__header-row-1">
          <th colspan="11"><b>Objectives definition:</b> completed at the beginning of the period</th>
          <th colspan="3"><b>Results:</b> completed at the end</th>
        </tr>
        <tr class="content-table__header-row-2">
          <th class="content-table--column-nth"><b>#</b></th>
          <th class="content-table--column-statement"><b>Statement of Objective</b></th>
          <th class="content-table--column-description"><b>Description (incl. how to measure details)</b></th>
          <th class="content-table--column-key"><b>Key</b></th>
          <th class="content-table--column-measur"><b>Measur.</b></th>
          <th class="content-table--column-units"><b>Units</b></th>
          <th class="content-table--column-threshold"><b>Threshold</b></th>
          <th class="content-table--column-target"><b>Target</b></th>
          <th class="content-table--column-challenge"><b>Challenge</b></th>
          <th class="content-table--column-wf"><b>WF, %</b></th>
          <th class="content-table--column-upperlimit"><b>KPI Upper Limit, %</b></th>
          <th class="content-table--column-keycheck"><b>Key Check</b></th>
          <th class="content-table--column-achieved"><b>Achieved Value</b></th>
          <th class="content-table--column-kpi"><b>KPI, %</b></th>
        </tr>
      </thead>
      <tbody class="content-table__body" id="js-table">
        @for(int i = 0; i < Model.ObjectivesResults.Count(); i++)
        {
          <tr>
            @*in ViewModel prepapre for each td a property with background-color : red/blue depending on existing value*@
            <td><input asp-for="ObjectivesResults[i].Row" type="text" disabled /></td>
            <td><textarea asp-for="ObjectivesResults[i].Statement" style="text-align: center" rows="1" oninput="resizeTextArea(this)"></textarea></td>
            <td><textarea asp-for="ObjectivesResults[i].Description" rows="1" oninput="resizeTextArea(this)"></textarea></td>
            <td><input asp-for="ObjectivesResults[i].IsKey" type="checkbox" /></td>
            <td><input asp-for="ObjectivesResults[i].IsMeasurable" type="checkbox" /></td>
            <td><textarea asp-for="ObjectivesResults[i].Unit" style="text-align: center" rows="1" oninput="resizeTextArea(this)"></textarea></td>
            <td><input asp-for="ObjectivesResults[i].Threshold" type="text" /></td>
            <td><input asp-for="ObjectivesResults[i].Target" type="text" /></td>
            <td><input asp-for="ObjectivesResults[i].Challenge" type="text" /></td>
            <td><input asp-for="ObjectivesResults[i].WeightFactor" type="text" /></td>
            <td><input asp-for="ObjectivesResults[i].KpiUpperLimit" type="text" /></td>
            <td><textarea asp-for="ObjectivesResults[i].KeyCheck" style="text-align: center" rows="1" disabled></textarea></td>
            <td><input asp-for="ObjectivesResults[i].Achieved" type="text" /></td>
            <td><textarea asp-for="ObjectivesResults[i].Kpi" style="text-align: center" rows="1" disabled></textarea></td>
          </tr>
        }
      </tbody>
      <tfoot class="content-table__footer">
        <tr>
          <td colspan="9" class="content-table__footer--padding content-table__footer-sum"><b>&#8721 =</b></td>
          <td class="content-table__footer--border"><input id="js-weightFactorSum" type="text" disabled/></td>
          <td class="content-table__footer--border content-table__footer--position-relative">
            <input id="js-kpiUpperLimitSum" type="text" disabled/>
            <div class="content-table__footer--position-absolute"><b>&#129145 Max. possible KPI</b></div>
          </td>
          <td colspan="2" class="content-table__footer--padding" ><b>Overall KPI =</b></td>
          <td class="content-table__footer--border"><input id="js-kpiSum" type="text"
              value="@(Model.OverallKpi == null ? "" : Model.OverallKpi)" disabled/></td>
        </tr>
      </tfoot>
    </table>

    @*-------------------------- Content - Advanced --------------------------*@
    <div class="content-advanced">
      <div class="content-advanced-proposal">
        <p><b>Proposal for bonus payment:</b></p>
        <input asp-for="IsProposalForBonusPayment" type="radio" value="true" id="js-IsProposalForBonusPaymentYes" disabled/>
        <label for="IsProposalForBonusPaymentYes">Yes</label>
        <input asp-for="IsProposalForBonusPayment" type="radio" value="false" id="js-IsProposalForBonusPaymentNo" disabled/>
        <label for="IsProposalForBonusPaymentNo">No</label>
      </div>
      <div class="content-advanced-worktime">
        <p><b>Work time balance, wh:</b></p>
        <input type="text" value="no data" disabled />
      </div>
    </div>

    @*-------------------------- Content - Comments --------------------------*@
    <div class="content-comments">
      <p>Comments from Direct Manager (desirable):</p>
      <textarea asp-for="ManagerComment" rows="1" oninput="ResizeTextArea(this)" class="content-comments--margin"></textarea>

      <p>Employee's comments (optional):</p>
      <textarea asp-for="EmployeeComment" rows="1" oninput="ResizeTextArea(this)" class="content-comments--margin"></textarea>

      <p>Any other comments (incl. processing info for HR, optional):</p>
      <textarea asp-for="OtherComment" rows="1" oninput="ResizeTextArea(this)"></textarea>
    </div>

    @*-------------------------- Content - Signatures --------------------------*@
    <div class="content-signatures">
      <p>Freeze objectives before validation.</p>
      <fieldset class="content-signatures-block" id="js-signatureBlockObjectives" disabled>
        <div class="content-signatures-block__checkbox">
          <label asp-for="AreObjectivesSignedByEmployee">Employee:</label>
          <input asp-for="AreObjectivesSignedByEmployee" type="checkbox"/>
        </div>
        <span class="content-signatures-block__signature">@Model.ObjectivesEmployeeSignature</span>
        <div class="content-signatures-block__checkbox">
          <label asp-for="AreObjectivesSignedByManager">Direct Manager:</label>
          <input asp-for="AreObjectivesSignedByManager" type="checkbox"/>
        </div>
        <span class="content-signatures-block__signature">@Model.ObjectivesManagerSignature</span>

        <div class="content-signatures-block__checkbox">
          <label asp-for="AreObjectivesSignedByApprover">Approved by:</label>
          <input asp-for="AreObjectivesSignedByApprover" type="checkbox"/>
        </div>
        <span class="content-signatures-block__signature">@Model.ObjectivesApproverSignature</span>
        <div class="content-signatures-block__checkbox">
          <label></label>
          <input asp-for="IsObjectivesRejectedByEmployee" type="checkbox"/>
        </div>
        <span class="content-signatures-block__signature">I do not agree with objectives</span>
      </fieldset>

      <p>Freeze results before validation.</p>
      <fieldset class="content-signatures-block" id="js-signatureBlockResults" disabled>
        <div class="content-signatures-block__checkbox">
          <label asp-for="AreResultsSignedByEmployee">Employee:</label>
          <input asp-for="AreResultsSignedByEmployee" type="checkbox"/>
        </div>
        <span class="content-signatures-block__signature">@Model.ResultsEmployeeSignature</span>
        <div class="content-signatures-block__checkbox">
          <label asp-for="AreResultsSignedByManager">Direct Manager:</label>
          <input asp-for="AreResultsSignedByManager" type="checkbox"/>
        </div>
        <span class="content-signatures-block__signature">@Model.ResultsManagerSignature</span>

        <div class="content-signatures-block__checkbox">
          <label asp-for="AreResultsSignedByApprover">Approved by:</label>
          <input asp-for="AreResultsSignedByApprover" type="checkbox"/>
        </div>
        <span class="content-signatures-block__signature">@Model.ResultsApproverSignature</span>
        <div class="content-signatures-block__checkbox">
          <label></label>
          <input asp-for="IsResultsRejectedByEmployee" type="checkbox"/>
        </div>
        <span class="content-signatures-block__signature">I do not agree with results</span>
      </fieldset>
    </div>
  </content>

  <sidebar class="sidebar">

  </sidebar>

  <footer class="footer">

  </footer>

</body>
